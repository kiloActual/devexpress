"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
var range_permission_history_item_1 = require("../core/model/history/items/range-permission-history-item");
var api_utils_1 = require("./api-utils/api-utils");
var interval_1 = require("./interval");
var sub_document_1 = require("./sub-document");
var RangePermissionApi = (function () {
    function RangePermissionApi(processor, subDocument, rangePermission) {
        this._rangePermission = rangePermission;
        this._subDocument = subDocument;
        this._processor = processor;
    }
    Object.defineProperty(RangePermissionApi.prototype, "index", {
        get: function () {
            return api_utils_1.ApiUtils.getObject(this._subDocument.rangePermissions, function (b) { return b.start; }, this._rangePermission.start, this._rangePermission);
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(RangePermissionApi.prototype, "subDocument", {
        get: function () {
            return new sub_document_1.SubDocumentApi(this._processor, this._subDocument);
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(RangePermissionApi.prototype, "interval", {
        get: function () {
            return new interval_1.IntervalApi(this._rangePermission.start, this._rangePermission.length);
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(RangePermissionApi.prototype, "userName", {
        get: function () { return this._rangePermission.userName; },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(RangePermissionApi.prototype, "group", {
        get: function () { return this._rangePermission.group; },
        enumerable: true,
        configurable: true
    });
    RangePermissionApi.prototype.delete = function () {
        this._processor.modelManager.history.addAndRedo(new range_permission_history_item_1.DeleteRangePermissionHistoryItem(this._processor.modelManager.modelManipulator, this._subDocument, this._rangePermission.constRangePermission));
    };
    return RangePermissionApi;
}());
exports.RangePermissionApi = RangePermissionApi;
