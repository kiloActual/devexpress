"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
var tslib_1 = require("tslib");
var default_destination_1 = require("../sub-document/default-destination");
var destination_type_1 = require("../utils/destination-type");
var FieldSubDestination = (function (_super) {
    tslib_1.__extends(FieldSubDestination, _super);
    function FieldSubDestination(importer) {
        var _this = _super.call(this, importer, importer.subDocument) || this;
        _this.nestedGroupLevel = 1;
        return _this;
    }
    Object.defineProperty(FieldSubDestination.prototype, "destinationType", {
        get: function () { return destination_type_1.DestinationType.FieldSubDestination; },
        enumerable: true,
        configurable: true
    });
    FieldSubDestination.prototype.createClone = function () {
        var clone = this.createInstance();
        clone.nestedGroupLevel = this.nestedGroupLevel;
        return clone;
    };
    FieldSubDestination.prototype.beforePopRtfState = function () {
        _super.prototype.beforePopRtfState.call(this);
        this.nestedGroupLevel--;
        if (this.nestedGroupLevel == 0)
            this.onDestinationClose();
    };
    FieldSubDestination.prototype.increaseGroupLevel = function () {
        _super.prototype.increaseGroupLevel.call(this);
        this.nestedGroupLevel++;
    };
    FieldSubDestination.prototype.onDestinationClose = function () {
    };
    return FieldSubDestination;
}(default_destination_1.DefaultDestination));
exports.FieldSubDestination = FieldSubDestination;
