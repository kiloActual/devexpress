"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
var tslib_1 = require("tslib");
var map_creator_1 = require("../../../../../base-utils/map-creator");
var table_row_1 = require("../../../../../core/model/tables/main-structures/table-row");
var bookmark_end_element_destination_1 = require("../../bookmark/bookmark-end-element-destination");
var bookmark_start_element_destination_1 = require("../../bookmark/bookmark-start-element-destination");
var destination_1 = require("../../destination");
var range_permission_end_element_destination_1 = require("../../range-permission/range-permission-end-element-destination");
var range_permission_start_element_destination_1 = require("../../range-permission/range-permission-start-element-destination");
var deleted_run_content_destination_1 = require("../../runs/deleted-run-content-destination");
var inserted_run_content_destination_1 = require("../../runs/inserted-run-content-destination");
var structured_document_destination_1 = require("../../structured-document-destination");
var table_cell_destination_1 = require("../cell/table-cell-destination");
var table_properties_destination_core_1 = require("../table/properties/table-properties-destination-core");
var table_row_properties_destination_1 = require("./properties/table-row-properties-destination");
var TableRowDestination = (function (_super) {
    tslib_1.__extends(TableRowDestination, _super);
    function TableRowDestination(data, table) {
        var _this = _super.call(this, data) || this;
        _this.row = new table_row_1.TableRow(table, _this.data.subDocumentInfo.tableImporter.createDefaultRowProperties());
        return _this;
    }
    Object.defineProperty(TableRowDestination.prototype, "elementHandlerTable", {
        get: function () {
            return TableRowDestination.handlerTable;
        },
        enumerable: true,
        configurable: true
    });
    TableRowDestination.getThis = function (data) {
        return data.destinationStack.getThis();
    };
    TableRowDestination.prototype.processElementOpen = function (_reader) {
        return tslib_1.__awaiter(this, void 0, void 0, function () {
            return tslib_1.__generator(this, function (_a) {
                this.row.parentTable.rows.push(this.row);
                return [2];
            });
        });
    };
    TableRowDestination.handlerTable = new map_creator_1.MapCreator()
        .add('tc', function (data) { return new table_cell_destination_1.TableCellDestination(data, TableRowDestination.getThis(data).row); })
        .add('trPr', function (data) { return new table_row_properties_destination_1.TableRowPropertiesDestination(data, TableRowDestination.getThis(data).row); })
        .add('tblPrEx', function (data) { return new table_properties_destination_core_1.TablePropertiesDestinationCore(data, TableRowDestination.getThis(data).row.parentTable, TableRowDestination.getThis(data).row.tablePropertiesException); })
        .add('sdt', function (data) { return new structured_document_destination_1.StructuredDocumentDestination(data); })
        .add('customXml', function (data) { return new destination_1.CustomXmlDestination(data); })
        .add('del', function (data) { return data.options.ignoreDeletedText ? new destination_1.EmptyDestination(data) : new deleted_run_content_destination_1.DeletedRunContentDestination(data); })
        .add('ins', function (data) { return data.options.ignoreInsertedText ? new destination_1.EmptyDestination(data) : new inserted_run_content_destination_1.InsertedRunContentDestination(data); })
        .add('bookmarkStart', function (data) { return new bookmark_start_element_destination_1.BookmarkStartElementDestination(data); })
        .add('bookmarkEnd', function (data) { return new bookmark_end_element_destination_1.BookmarkEndElementDestination(data); })
        .add('permStart', function (data) { return new range_permission_start_element_destination_1.RangePermissionStartElementDestination(data); })
        .add('permEnd', function (data) { return new range_permission_end_element_destination_1.RangePermissionEndElementDestination(data); })
        .get();
    return TableRowDestination;
}(destination_1.ElementDestination));
exports.TableRowDestination = TableRowDestination;
